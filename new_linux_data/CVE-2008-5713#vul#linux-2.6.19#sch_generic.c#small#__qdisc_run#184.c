void __qdisc_run(struct net_device *dev)
{
	if (unlikely(dev->qdisc == &noop_qdisc))
		goto out;

	while (qdisc_restart(dev) < 0 && !netif_queue_stopped(dev));

out:
	clear_bit(__LINK_STATE_QDISC_RUNNING, &dev->state);
}
